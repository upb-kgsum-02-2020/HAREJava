{"ast":null,"code":"const ACCEL_G = -9.8,\n      // m/s^2\nEASING = -15; // m/s^2\n\n/**\n * Jump ability.\n */\n\nmodule.exports = AFRAME.registerComponent('jump-ability', {\n  dependencies: ['velocity'],\n\n  /* Schema\n  ——————————————————————————————————————————————*/\n  schema: {\n    on: {\n      default: 'keydown:Space gamepadbuttondown:0'\n    },\n    playerHeight: {\n      default: 1.764\n    },\n    maxJumps: {\n      default: 1\n    },\n    distance: {\n      default: 5\n    },\n    debug: {\n      default: false\n    }\n  },\n  init: function () {\n    this.velocity = 0;\n    this.numJumps = 0;\n    const beginJump = this.beginJump.bind(this),\n          events = this.data.on.split(' ');\n    this.bindings = {};\n\n    for (let i = 0; i < events.length; i++) {\n      this.bindings[events[i]] = beginJump;\n      this.el.addEventListener(events[i], beginJump);\n    }\n\n    this.bindings.collide = this.onCollide.bind(this);\n    this.el.addEventListener('collide', this.bindings.collide);\n  },\n  remove: function () {\n    for (var event in this.bindings) {\n      if (this.bindings.hasOwnProperty(event)) {\n        this.el.removeEventListener(event, this.bindings[event]);\n        delete this.bindings[event];\n      }\n    }\n\n    this.el.removeEventListener('collide', this.bindings.collide);\n    delete this.bindings.collide;\n  },\n  beginJump: function () {\n    if (this.numJumps < this.data.maxJumps) {\n      const data = this.data,\n            initialVelocity = Math.sqrt(-2 * data.distance * (ACCEL_G + EASING)),\n            v = this.el.getAttribute('velocity');\n      this.el.setAttribute('velocity', {\n        x: v.x,\n        y: initialVelocity,\n        z: v.z\n      });\n      this.numJumps++;\n      this.el.emit('jumpstart');\n    }\n  },\n  onCollide: function () {\n    if (this.numJumps > 0) this.el.emit('jumpend');\n    this.numJumps = 0;\n  }\n});","map":{"version":3,"sources":["E:/Universitat Paderborn/NEW/kgsum/kgsum-visualization/node_modules/aframe-extras/src/misc/jump-ability.js"],"names":["ACCEL_G","EASING","module","exports","AFRAME","registerComponent","dependencies","schema","on","default","playerHeight","maxJumps","distance","debug","init","velocity","numJumps","beginJump","bind","events","data","split","bindings","i","length","el","addEventListener","collide","onCollide","remove","event","hasOwnProperty","removeEventListener","initialVelocity","Math","sqrt","v","getAttribute","setAttribute","x","y","z","emit"],"mappings":"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","sourcesContent":["const ACCEL_G = -9.8, // m/s^2\n    EASING = -15; // m/s^2\n\n/**\n * Jump ability.\n */\nmodule.exports = AFRAME.registerComponent('jump-ability', {\n  dependencies: ['velocity'],\n\n  /* Schema\n  ——————————————————————————————————————————————*/\n\n  schema: {\n    on: { default: 'keydown:Space gamepadbuttondown:0' },\n    playerHeight: { default: 1.764 },\n    maxJumps: { default: 1 },\n    distance: { default: 5 },\n    debug: { default: false }\n  },\n\n  init: function () {\n    this.velocity = 0;\n    this.numJumps = 0;\n\n    const beginJump = this.beginJump.bind(this),\n        events = this.data.on.split(' ');\n    this.bindings = {};\n    for (let i = 0; i <  events.length; i++) {\n      this.bindings[events[i]] = beginJump;\n      this.el.addEventListener(events[i], beginJump);\n    }\n    this.bindings.collide = this.onCollide.bind(this);\n    this.el.addEventListener('collide', this.bindings.collide);\n  },\n\n  remove: function () {\n    for (var event in this.bindings) {\n      if (this.bindings.hasOwnProperty(event)) {\n        this.el.removeEventListener(event, this.bindings[event]);\n        delete this.bindings[event];\n      }\n    }\n    this.el.removeEventListener('collide', this.bindings.collide);\n    delete this.bindings.collide;\n  },\n\n  beginJump: function () {\n    if (this.numJumps < this.data.maxJumps) {\n      const data = this.data,\n          initialVelocity = Math.sqrt(-2 * data.distance * (ACCEL_G + EASING)),\n          v = this.el.getAttribute('velocity');\n      this.el.setAttribute('velocity', {x: v.x, y: initialVelocity, z: v.z});\n      this.numJumps++;\n      this.el.emit('jumpstart');\n    }\n  },\n\n  onCollide: function () {\n    if (this.numJumps > 0) this.el.emit('jumpend');\n    this.numJumps = 0;\n  }\n});\n"]},"metadata":{},"sourceType":"script"}