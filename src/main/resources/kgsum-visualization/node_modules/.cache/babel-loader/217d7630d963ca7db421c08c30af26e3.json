{"ast":null,"code":"/**\n * Tube following a custom path.\n *\n * Usage:\n *\n * ```html\n * <a-tube path=\"5 0 5, 5 0 -5, -5 0 -5\" radius=\"0.5\"></a-tube>\n * ```\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-tube', {\n  defaultComponents: {\n    tube: {}\n  },\n  mappings: {\n    path: 'tube.path',\n    segments: 'tube.segments',\n    radius: 'tube.radius',\n    'radial-segments': 'tube.radialSegments',\n    closed: 'tube.closed'\n  }\n});\nmodule.exports.Component = AFRAME.registerComponent('tube', {\n  schema: {\n    path: {\n      default: []\n    },\n    segments: {\n      default: 64\n    },\n    radius: {\n      default: 1\n    },\n    radialSegments: {\n      default: 8\n    },\n    closed: {\n      default: false\n    }\n  },\n  init: function () {\n    const el = this.el,\n          data = this.data;\n    let material = el.components.material;\n\n    if (!data.path.length) {\n      console.error('[a-tube] `path` property expected but not found.');\n      return;\n    }\n\n    const curve = new THREE.CatmullRomCurve3(data.path.map(function (point) {\n      point = point.split(' ');\n      return new THREE.Vector3(Number(point[0]), Number(point[1]), Number(point[2]));\n    }));\n    const geometry = new THREE.TubeGeometry(curve, data.segments, data.radius, data.radialSegments, data.closed);\n\n    if (!material) {\n      material = {};\n      material.material = new THREE.MeshPhongMaterial();\n    }\n\n    this.mesh = new THREE.Mesh(geometry, material.material);\n    this.el.setObject3D('mesh', this.mesh);\n  },\n  update: function (prevData) {\n    if (!Object.keys(prevData).length) return;\n    this.remove();\n    this.init();\n  },\n  remove: function () {\n    if (this.mesh) this.el.removeObject3D('mesh');\n  }\n});","map":{"version":3,"sources":["E:/Universitat Paderborn/NEW/kgsum/kgsum-visualization/node_modules/aframe-extras/src/primitives/a-tube.js"],"names":["module","exports","Primitive","AFRAME","registerPrimitive","defaultComponents","tube","mappings","path","segments","radius","closed","Component","registerComponent","schema","default","radialSegments","init","el","data","material","components","length","console","error","curve","THREE","CatmullRomCurve3","map","point","split","Vector3","Number","geometry","TubeGeometry","MeshPhongMaterial","mesh","Mesh","setObject3D","update","prevData","Object","keys","remove","removeObject3D"],"mappings":"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","sourcesContent":["/**\n * Tube following a custom path.\n *\n * Usage:\n *\n * ```html\n * <a-tube path=\"5 0 5, 5 0 -5, -5 0 -5\" radius=\"0.5\"></a-tube>\n * ```\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-tube', {\n  defaultComponents: {\n    tube:           {},\n  },\n  mappings: {\n    path:           'tube.path',\n    segments:       'tube.segments',\n    radius:         'tube.radius',\n    'radial-segments': 'tube.radialSegments',\n    closed:         'tube.closed'\n  }\n});\n\nmodule.exports.Component = AFRAME.registerComponent('tube', {\n  schema: {\n    path:           {default: []},\n    segments:       {default: 64},\n    radius:         {default: 1},\n    radialSegments: {default: 8},\n    closed:         {default: false}\n  },\n\n  init: function () {\n    const el = this.el,\n        data = this.data;\n    let material = el.components.material;\n\n    if (!data.path.length) {\n      console.error('[a-tube] `path` property expected but not found.');\n      return;\n    }\n\n    const curve = new THREE.CatmullRomCurve3(data.path.map(function (point) {\n      point = point.split(' ');\n      return new THREE.Vector3(Number(point[0]), Number(point[1]), Number(point[2]));\n    }));\n    const geometry = new THREE.TubeGeometry(\n      curve, data.segments, data.radius, data.radialSegments, data.closed\n    );\n\n    if (!material) {\n      material = {};\n      material.material = new THREE.MeshPhongMaterial();\n    }\n\n    this.mesh = new THREE.Mesh(geometry, material.material);\n    this.el.setObject3D('mesh', this.mesh);\n  },\n\n  update: function (prevData) {\n    if (!Object.keys(prevData).length) return;\n\n    this.remove();\n    this.init();\n  },\n\n  remove: function () {\n    if (this.mesh) this.el.removeObject3D('mesh');\n  }\n});\n"]},"metadata":{},"sourceType":"script"}