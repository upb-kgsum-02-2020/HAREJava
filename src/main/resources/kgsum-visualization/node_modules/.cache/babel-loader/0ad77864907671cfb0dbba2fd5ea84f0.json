{"ast":null,"code":"/**\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\n * D4E draft specifications, by @inexorabletash.\n *\n * See: https://github.com/inexorabletash/polyfill\n */\n(function (global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent) global.KeyboardEvent = function KeyboardEvent() {\n    throw TypeError('Illegal constructor');\n  };\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT = 0x01; // e.g. Left Alt key\n\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT = 0x02; // e.g. Right Alt key\n\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD; //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) {\n    return String(s).indexOf(ss) !== -1;\n  }\n\n  var os = function () {\n    if (contains(navigator.platform, 'Win')) {\n      return 'win';\n    }\n\n    if (contains(navigator.platform, 'Mac')) {\n      return 'mac';\n    }\n\n    if (contains(navigator.platform, 'CrOS')) {\n      return 'cros';\n    }\n\n    if (contains(navigator.platform, 'Linux')) {\n      return 'linux';\n    }\n\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) {\n      return 'ios';\n    }\n\n    return '';\n  }();\n\n  var browser = function () {\n    if (contains(navigator.userAgent, 'Chrome/')) {\n      return 'chrome';\n    }\n\n    if (contains(navigator.vendor, 'Apple')) {\n      return 'safari';\n    }\n\n    if (contains(navigator.userAgent, 'MSIE')) {\n      return 'ie';\n    }\n\n    if (contains(navigator.userAgent, 'Gecko/')) {\n      return 'moz';\n    }\n\n    if (contains(navigator.userAgent, 'Opera/')) {\n      return 'opera';\n    }\n\n    return '';\n  }();\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function (keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      var item = o[k];\n\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function (k) {\n      r[o[k]] = k;\n    });\n    return r;\n  } //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n  // Map of keyCode to keyInfo\n\n\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: {\n      code: 'Cancel'\n    },\n    // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: {\n      code: 'Backspace'\n    },\n    // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: {\n      code: 'Tab'\n    },\n    // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: {\n      code: 'Clear'\n    },\n    // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: {\n      code: 'Enter'\n    },\n    // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n    0x10: {\n      code: 'Shift'\n    },\n    0x11: {\n      code: 'Control'\n    },\n    0x12: {\n      code: 'Alt'\n    },\n    0x13: {\n      code: 'Pause'\n    },\n    // [USB: 0x48]\n    0x14: {\n      code: 'CapsLock'\n    },\n    // [USB: 0x39]\n    0x15: {\n      code: 'KanaMode'\n    },\n    // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: {\n      code: 'HangulMode'\n    },\n    // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: {\n      code: 'JunjaMode'\n    },\n    // (Not in D3E)\n    0x18: {\n      code: 'FinalMode'\n    },\n    // (Not in D3E)\n    0x19: {\n      code: 'KanjiMode'\n    },\n    // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: {\n      code: 'Escape'\n    },\n    // [USB: 0x29]\n    0x1C: {\n      code: 'Convert'\n    },\n    // [USB: 0x8a]\n    0x1D: {\n      code: 'NonConvert'\n    },\n    // [USB: 0x8b]\n    0x1E: {\n      code: 'Accept'\n    },\n    // (Not in D3E)\n    0x1F: {\n      code: 'ModeChange'\n    },\n    // (Not in D3E)\n    0x20: {\n      code: 'Space'\n    },\n    // [USB: 0x2c]\n    0x21: {\n      code: 'PageUp'\n    },\n    // [USB: 0x4b]\n    0x22: {\n      code: 'PageDown'\n    },\n    // [USB: 0x4e]\n    0x23: {\n      code: 'End'\n    },\n    // [USB: 0x4d]\n    0x24: {\n      code: 'Home'\n    },\n    // [USB: 0x4a]\n    0x25: {\n      code: 'ArrowLeft'\n    },\n    // [USB: 0x50]\n    0x26: {\n      code: 'ArrowUp'\n    },\n    // [USB: 0x52]\n    0x27: {\n      code: 'ArrowRight'\n    },\n    // [USB: 0x4f]\n    0x28: {\n      code: 'ArrowDown'\n    },\n    // [USB: 0x51]\n    0x29: {\n      code: 'Select'\n    },\n    // (Not in D3E)\n    0x2A: {\n      code: 'Print'\n    },\n    // (Not in D3E)\n    0x2B: {\n      code: 'Execute'\n    },\n    // [USB: 0x74] (Not in D3E)\n    0x2C: {\n      code: 'PrintScreen'\n    },\n    // [USB: 0x46]\n    0x2D: {\n      code: 'Insert'\n    },\n    // [USB: 0x49]\n    0x2E: {\n      code: 'Delete'\n    },\n    // [USB: 0x4c]\n    0x2F: {\n      code: 'Help'\n    },\n    // [USB: 0x75] ???\n    0x30: {\n      code: 'Digit0',\n      keyCap: '0'\n    },\n    // [USB: 0x27] 0)\n    0x31: {\n      code: 'Digit1',\n      keyCap: '1'\n    },\n    // [USB: 0x1e] 1!\n    0x32: {\n      code: 'Digit2',\n      keyCap: '2'\n    },\n    // [USB: 0x1f] 2@\n    0x33: {\n      code: 'Digit3',\n      keyCap: '3'\n    },\n    // [USB: 0x20] 3#\n    0x34: {\n      code: 'Digit4',\n      keyCap: '4'\n    },\n    // [USB: 0x21] 4$\n    0x35: {\n      code: 'Digit5',\n      keyCap: '5'\n    },\n    // [USB: 0x22] 5%\n    0x36: {\n      code: 'Digit6',\n      keyCap: '6'\n    },\n    // [USB: 0x23] 6^\n    0x37: {\n      code: 'Digit7',\n      keyCap: '7'\n    },\n    // [USB: 0x24] 7&\n    0x38: {\n      code: 'Digit8',\n      keyCap: '8'\n    },\n    // [USB: 0x25] 8*\n    0x39: {\n      code: 'Digit9',\n      keyCap: '9'\n    },\n    // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n    0x41: {\n      code: 'KeyA',\n      keyCap: 'a'\n    },\n    // [USB: 0x04]\n    0x42: {\n      code: 'KeyB',\n      keyCap: 'b'\n    },\n    // [USB: 0x05]\n    0x43: {\n      code: 'KeyC',\n      keyCap: 'c'\n    },\n    // [USB: 0x06]\n    0x44: {\n      code: 'KeyD',\n      keyCap: 'd'\n    },\n    // [USB: 0x07]\n    0x45: {\n      code: 'KeyE',\n      keyCap: 'e'\n    },\n    // [USB: 0x08]\n    0x46: {\n      code: 'KeyF',\n      keyCap: 'f'\n    },\n    // [USB: 0x09]\n    0x47: {\n      code: 'KeyG',\n      keyCap: 'g'\n    },\n    // [USB: 0x0a]\n    0x48: {\n      code: 'KeyH',\n      keyCap: 'h'\n    },\n    // [USB: 0x0b]\n    0x49: {\n      code: 'KeyI',\n      keyCap: 'i'\n    },\n    // [USB: 0x0c]\n    0x4A: {\n      code: 'KeyJ',\n      keyCap: 'j'\n    },\n    // [USB: 0x0d]\n    0x4B: {\n      code: 'KeyK',\n      keyCap: 'k'\n    },\n    // [USB: 0x0e]\n    0x4C: {\n      code: 'KeyL',\n      keyCap: 'l'\n    },\n    // [USB: 0x0f]\n    0x4D: {\n      code: 'KeyM',\n      keyCap: 'm'\n    },\n    // [USB: 0x10]\n    0x4E: {\n      code: 'KeyN',\n      keyCap: 'n'\n    },\n    // [USB: 0x11]\n    0x4F: {\n      code: 'KeyO',\n      keyCap: 'o'\n    },\n    // [USB: 0x12]\n    0x50: {\n      code: 'KeyP',\n      keyCap: 'p'\n    },\n    // [USB: 0x13]\n    0x51: {\n      code: 'KeyQ',\n      keyCap: 'q'\n    },\n    // [USB: 0x14]\n    0x52: {\n      code: 'KeyR',\n      keyCap: 'r'\n    },\n    // [USB: 0x15]\n    0x53: {\n      code: 'KeyS',\n      keyCap: 's'\n    },\n    // [USB: 0x16]\n    0x54: {\n      code: 'KeyT',\n      keyCap: 't'\n    },\n    // [USB: 0x17]\n    0x55: {\n      code: 'KeyU',\n      keyCap: 'u'\n    },\n    // [USB: 0x18]\n    0x56: {\n      code: 'KeyV',\n      keyCap: 'v'\n    },\n    // [USB: 0x19]\n    0x57: {\n      code: 'KeyW',\n      keyCap: 'w'\n    },\n    // [USB: 0x1a]\n    0x58: {\n      code: 'KeyX',\n      keyCap: 'x'\n    },\n    // [USB: 0x1b]\n    0x59: {\n      code: 'KeyY',\n      keyCap: 'y'\n    },\n    // [USB: 0x1c]\n    0x5A: {\n      code: 'KeyZ',\n      keyCap: 'z'\n    },\n    // [USB: 0x1d]\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5C: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0x5D: {\n      code: 'ContextMenu'\n    },\n    // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: {\n      code: 'Standby'\n    },\n    // [USB: 0x82] Sleep\n    0x60: {\n      code: 'Numpad0',\n      keyCap: '0',\n      location: NUMPAD\n    },\n    // [USB: 0x62]\n    0x61: {\n      code: 'Numpad1',\n      keyCap: '1',\n      location: NUMPAD\n    },\n    // [USB: 0x59]\n    0x62: {\n      code: 'Numpad2',\n      keyCap: '2',\n      location: NUMPAD\n    },\n    // [USB: 0x5a]\n    0x63: {\n      code: 'Numpad3',\n      keyCap: '3',\n      location: NUMPAD\n    },\n    // [USB: 0x5b]\n    0x64: {\n      code: 'Numpad4',\n      keyCap: '4',\n      location: NUMPAD\n    },\n    // [USB: 0x5c]\n    0x65: {\n      code: 'Numpad5',\n      keyCap: '5',\n      location: NUMPAD\n    },\n    // [USB: 0x5d]\n    0x66: {\n      code: 'Numpad6',\n      keyCap: '6',\n      location: NUMPAD\n    },\n    // [USB: 0x5e]\n    0x67: {\n      code: 'Numpad7',\n      keyCap: '7',\n      location: NUMPAD\n    },\n    // [USB: 0x5f]\n    0x68: {\n      code: 'Numpad8',\n      keyCap: '8',\n      location: NUMPAD\n    },\n    // [USB: 0x60]\n    0x69: {\n      code: 'Numpad9',\n      keyCap: '9',\n      location: NUMPAD\n    },\n    // [USB: 0x61]\n    0x6A: {\n      code: 'NumpadMultiply',\n      keyCap: '*',\n      location: NUMPAD\n    },\n    // [USB: 0x55]\n    0x6B: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0x6C: {\n      code: 'NumpadComma',\n      keyCap: ',',\n      location: NUMPAD\n    },\n    // [USB: 0x85]\n    0x6D: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6E: {\n      code: 'NumpadDecimal',\n      keyCap: '.',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0x6F: {\n      code: 'NumpadDivide',\n      keyCap: '/',\n      location: NUMPAD\n    },\n    // [USB: 0x54]\n    0x70: {\n      code: 'F1'\n    },\n    // [USB: 0x3a]\n    0x71: {\n      code: 'F2'\n    },\n    // [USB: 0x3b]\n    0x72: {\n      code: 'F3'\n    },\n    // [USB: 0x3c]\n    0x73: {\n      code: 'F4'\n    },\n    // [USB: 0x3d]\n    0x74: {\n      code: 'F5'\n    },\n    // [USB: 0x3e]\n    0x75: {\n      code: 'F6'\n    },\n    // [USB: 0x3f]\n    0x76: {\n      code: 'F7'\n    },\n    // [USB: 0x40]\n    0x77: {\n      code: 'F8'\n    },\n    // [USB: 0x41]\n    0x78: {\n      code: 'F9'\n    },\n    // [USB: 0x42]\n    0x79: {\n      code: 'F10'\n    },\n    // [USB: 0x43]\n    0x7A: {\n      code: 'F11'\n    },\n    // [USB: 0x44]\n    0x7B: {\n      code: 'F12'\n    },\n    // [USB: 0x45]\n    0x7C: {\n      code: 'F13'\n    },\n    // [USB: 0x68]\n    0x7D: {\n      code: 'F14'\n    },\n    // [USB: 0x69]\n    0x7E: {\n      code: 'F15'\n    },\n    // [USB: 0x6a]\n    0x7F: {\n      code: 'F16'\n    },\n    // [USB: 0x6b]\n    0x80: {\n      code: 'F17'\n    },\n    // [USB: 0x6c]\n    0x81: {\n      code: 'F18'\n    },\n    // [USB: 0x6d]\n    0x82: {\n      code: 'F19'\n    },\n    // [USB: 0x6e]\n    0x83: {\n      code: 'F20'\n    },\n    // [USB: 0x6f]\n    0x84: {\n      code: 'F21'\n    },\n    // [USB: 0x70]\n    0x85: {\n      code: 'F22'\n    },\n    // [USB: 0x71]\n    0x86: {\n      code: 'F23'\n    },\n    // [USB: 0x72]\n    0x87: {\n      code: 'F24'\n    },\n    // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n    0x90: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0x91: {\n      code: 'ScrollLock'\n    },\n    // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0xA1: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0xA2: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0xA3: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0xA4: {\n      code: 'AltLeft',\n      location: LEFT\n    },\n    // [USB: 0xe2]\n    0xA5: {\n      code: 'AltRight',\n      location: RIGHT\n    },\n    // [USB: 0xe6]\n    0xA6: {\n      code: 'BrowserBack'\n    },\n    // [USB: 0x0c/0x0224]\n    0xA7: {\n      code: 'BrowserForward'\n    },\n    // [USB: 0x0c/0x0225]\n    0xA8: {\n      code: 'BrowserRefresh'\n    },\n    // [USB: 0x0c/0x0227]\n    0xA9: {\n      code: 'BrowserStop'\n    },\n    // [USB: 0x0c/0x0226]\n    0xAA: {\n      code: 'BrowserSearch'\n    },\n    // [USB: 0x0c/0x0221]\n    0xAB: {\n      code: 'BrowserFavorites'\n    },\n    // [USB: 0x0c/0x0228]\n    0xAC: {\n      code: 'BrowserHome'\n    },\n    // [USB: 0x0c/0x0222]\n    0xAD: {\n      code: 'VolumeMute'\n    },\n    // [USB: 0x7f]\n    0xAE: {\n      code: 'VolumeDown'\n    },\n    // [USB: 0x81]\n    0xAF: {\n      code: 'VolumeUp'\n    },\n    // [USB: 0x80]\n    0xB0: {\n      code: 'MediaTrackNext'\n    },\n    // [USB: 0x0c/0x00b5]\n    0xB1: {\n      code: 'MediaTrackPrevious'\n    },\n    // [USB: 0x0c/0x00b6]\n    0xB2: {\n      code: 'MediaStop'\n    },\n    // [USB: 0x0c/0x00b7]\n    0xB3: {\n      code: 'MediaPlayPause'\n    },\n    // [USB: 0x0c/0x00cd]\n    0xB4: {\n      code: 'LaunchMail'\n    },\n    // [USB: 0x0c/0x018a]\n    0xB5: {\n      code: 'MediaSelect'\n    },\n    0xB6: {\n      code: 'LaunchApp1'\n    },\n    0xB7: {\n      code: 'LaunchApp2'\n    },\n    // 0xB8-0xB9 - reserved\n    0xBA: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0xBB: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0xBC: {\n      code: 'Comma',\n      keyCap: ','\n    },\n    // [USB: 0x36] ,<\n    0xBD: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBE: {\n      code: 'Period',\n      keyCap: '.'\n    },\n    // [USB: 0x37] .>\n    0xBF: {\n      code: 'Slash',\n      keyCap: '/'\n    },\n    // [USB: 0x38] /? (US Standard 101)\n    0xC0: {\n      code: 'Backquote',\n      keyCap: '`'\n    },\n    // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: {\n      code: 'BracketLeft',\n      keyCap: '['\n    },\n    // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: {\n      code: 'Backslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x31] \\| (US Standard 101)\n    0xDD: {\n      code: 'BracketRight',\n      keyCap: ']'\n    },\n    // [USB: 0x30] ]} (US Standard 101)\n    0xDE: {\n      code: 'Quote',\n      keyCap: '\\''\n    },\n    // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: {\n      code: 'IntlBackslash',\n      keyCap: '\\\\'\n    },\n    // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: {\n      code: 'Process'\n    },\n    // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n    // 0xF0-0xF5 - OEM specific\n    0xF6: {\n      code: 'Attn'\n    },\n    // [USB: 0x9a] (Not in D3E)\n    0xF7: {\n      code: 'CrSel'\n    },\n    // [USB: 0xa3] (Not in D3E)\n    0xF8: {\n      code: 'ExSel'\n    },\n    // [USB: 0xa4] (Not in D3E)\n    0xF9: {\n      code: 'EraseEof'\n    },\n    // (Not in D3E)\n    0xFA: {\n      code: 'Play'\n    },\n    // (Not in D3E)\n    0xFB: {\n      code: 'ZoomToggle'\n    },\n    // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: {\n      code: 'Clear'\n    } // [USB: 0x9c] (Not in D3E)\n\n  }; // No legacy keyCode, but listed in D3E:\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable, 'moz', {\n    0x3B: {\n      code: 'Semicolon',\n      keyCap: ';'\n    },\n    // [USB: 0x33] ;: (US Standard 101)\n    0x3D: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6B: {\n      code: 'Equal',\n      keyCap: '='\n    },\n    // [USB: 0x2e] =+\n    0x6D: {\n      code: 'Minus',\n      keyCap: '-'\n    },\n    // [USB: 0x2d] -_\n    0xBB: {\n      code: 'NumpadAdd',\n      keyCap: '+',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      keyCap: '-',\n      location: NUMPAD\n    } // [USB: 0x56]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'moz-win', {\n    0xAD: {\n      code: 'Minus',\n      keyCap: '-'\n    } // [USB: 0x2d] -_\n\n  });\n  mergeIf(keyCodeToInfoTable, 'chrome-mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  }); // Windows via Bootcamp (!)\n\n  if (0) {\n    mergeIf(keyCodeToInfoTable, 'chrome-win', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n    mergeIf(keyCodeToInfoTable, 'ie', {\n      0xC0: {\n        code: 'Quote',\n        keyCap: '\\''\n      },\n      // [USB: 0x34] '\" (US Standard 101)\n      0xDE: {\n        code: 'Backslash',\n        keyCap: '\\\\'\n      },\n      // [USB: 0x31] \\| (US Standard 101)\n      0xDF: {\n        code: 'Backquote',\n        keyCap: '`'\n      } // [USB: 0x35] `~ (US Standard 101)\n\n    });\n  }\n\n  mergeIf(keyCodeToInfoTable, 'safari', {\n    0x03: {\n      code: 'Enter'\n    },\n    // [USB: 0x28] old Safari\n    0x19: {\n      code: 'Tab'\n    } // [USB: 0x2b] old Safari for Shift+Tab\n\n  });\n  mergeIf(keyCodeToInfoTable, 'ios', {\n    0x0A: {\n      code: 'Enter',\n      location: STANDARD\n    } // [USB: 0x28]\n\n  });\n  mergeIf(keyCodeToInfoTable, 'safari-mac', {\n    0x5B: {\n      code: 'OSLeft',\n      location: LEFT\n    },\n    // [USB: 0xe3]\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    },\n    // [USB: 0xe7]\n    0xE5: {\n      code: 'KeyQ',\n      keyCap: 'Q'\n    } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n\n  }); //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = {\n      code: 'ShiftLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A1'] = {\n      code: 'ShiftRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A2'] = {\n      code: 'ControlLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A3'] = {\n      code: 'ControlRight',\n      location: RIGHT\n    };\n    keyIdentifierTable['U+00A4'] = {\n      code: 'AltLeft',\n      location: LEFT\n    };\n    keyIdentifierTable['U+00A5'] = {\n      code: 'AltRight',\n      location: RIGHT\n    };\n  }\n\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = {\n      code: 'ContextMenu'\n    };\n  }\n\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = {\n      code: 'Function'\n    };\n    keyIdentifierTable['U+001C'] = {\n      code: 'ArrowLeft'\n    };\n    keyIdentifierTable['U+001D'] = {\n      code: 'ArrowRight'\n    };\n    keyIdentifierTable['U+001E'] = {\n      code: 'ArrowUp'\n    };\n    keyIdentifierTable['U+001F'] = {\n      code: 'ArrowDown'\n    };\n    keyIdentifierTable['U+0001'] = {\n      code: 'Home'\n    }; // [USB: 0x4a] Fn + ArrowLeft\n\n    keyIdentifierTable['U+0004'] = {\n      code: 'End'\n    }; // [USB: 0x4d] Fn + ArrowRight\n\n    keyIdentifierTable['U+000B'] = {\n      code: 'PageUp'\n    }; // [USB: 0x4b] Fn + ArrowUp\n\n    keyIdentifierTable['U+000C'] = {\n      code: 'PageDown'\n    }; // [USB: 0x4e] Fn + ArrowDown\n  } //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n  // locationTable[location][keyCode] -> keyInfo\n\n\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: {\n      code: 'ShiftLeft',\n      location: LEFT\n    },\n    // [USB: 0xe1]\n    0x11: {\n      code: 'ControlLeft',\n      location: LEFT\n    },\n    // [USB: 0xe0]\n    0x12: {\n      code: 'AltLeft',\n      location: LEFT\n    } // [USB: 0xe2]\n\n  };\n  locationTable[RIGHT] = {\n    0x10: {\n      code: 'ShiftRight',\n      location: RIGHT\n    },\n    // [USB: 0xe5]\n    0x11: {\n      code: 'ControlRight',\n      location: RIGHT\n    },\n    // [USB: 0xe4]\n    0x12: {\n      code: 'AltRight',\n      location: RIGHT\n    } // [USB: 0xe6]\n\n  };\n  locationTable[NUMPAD] = {\n    0x0D: {\n      code: 'NumpadEnter',\n      location: NUMPAD\n    } // [USB: 0x58]\n\n  };\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0x6B: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    } // [USB: 0x57]\n\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: {\n      code: 'OSLeft',\n      location: LEFT\n    } // [USB: 0xe3]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: {\n      code: 'OSRight',\n      location: RIGHT\n    } // [USB: 0xe7]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    } // [USB: 0x53]\n\n  });\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: {\n      code: 'NumLock',\n      location: NUMPAD\n    },\n    // [USB: 0x53]\n    0xBB: {\n      code: 'NumpadAdd',\n      location: NUMPAD\n    },\n    // [USB: 0x57]\n    0xBD: {\n      code: 'NumpadSubtract',\n      location: NUMPAD\n    },\n    // [USB: 0x56]\n    0xBE: {\n      code: 'NumpadDecimal',\n      location: NUMPAD\n    },\n    // [USB: 0x63]\n    0xBF: {\n      code: 'NumpadDivide',\n      location: NUMPAD\n    } // [USB: 0x54]\n\n  }); //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: {\n      key: 'Shift'\n    },\n    ShiftRight: {\n      key: 'Shift'\n    },\n    ControlLeft: {\n      key: 'Control'\n    },\n    ControlRight: {\n      key: 'Control'\n    },\n    AltLeft: {\n      key: 'Alt'\n    },\n    AltRight: {\n      key: 'Alt'\n    },\n    OSLeft: {\n      key: 'OS'\n    },\n    OSRight: {\n      key: 'OS'\n    },\n    // Whitespace Keys\n    NumpadEnter: {\n      key: 'Enter'\n    },\n    Space: {\n      key: ' '\n    },\n    // Printable Keys\n    Digit0: {\n      key: '0',\n      shiftKey: ')'\n    },\n    Digit1: {\n      key: '1',\n      shiftKey: '!'\n    },\n    Digit2: {\n      key: '2',\n      shiftKey: '@'\n    },\n    Digit3: {\n      key: '3',\n      shiftKey: '#'\n    },\n    Digit4: {\n      key: '4',\n      shiftKey: '$'\n    },\n    Digit5: {\n      key: '5',\n      shiftKey: '%'\n    },\n    Digit6: {\n      key: '6',\n      shiftKey: '^'\n    },\n    Digit7: {\n      key: '7',\n      shiftKey: '&'\n    },\n    Digit8: {\n      key: '8',\n      shiftKey: '*'\n    },\n    Digit9: {\n      key: '9',\n      shiftKey: '('\n    },\n    KeyA: {\n      key: 'a',\n      shiftKey: 'A'\n    },\n    KeyB: {\n      key: 'b',\n      shiftKey: 'B'\n    },\n    KeyC: {\n      key: 'c',\n      shiftKey: 'C'\n    },\n    KeyD: {\n      key: 'd',\n      shiftKey: 'D'\n    },\n    KeyE: {\n      key: 'e',\n      shiftKey: 'E'\n    },\n    KeyF: {\n      key: 'f',\n      shiftKey: 'F'\n    },\n    KeyG: {\n      key: 'g',\n      shiftKey: 'G'\n    },\n    KeyH: {\n      key: 'h',\n      shiftKey: 'H'\n    },\n    KeyI: {\n      key: 'i',\n      shiftKey: 'I'\n    },\n    KeyJ: {\n      key: 'j',\n      shiftKey: 'J'\n    },\n    KeyK: {\n      key: 'k',\n      shiftKey: 'K'\n    },\n    KeyL: {\n      key: 'l',\n      shiftKey: 'L'\n    },\n    KeyM: {\n      key: 'm',\n      shiftKey: 'M'\n    },\n    KeyN: {\n      key: 'n',\n      shiftKey: 'N'\n    },\n    KeyO: {\n      key: 'o',\n      shiftKey: 'O'\n    },\n    KeyP: {\n      key: 'p',\n      shiftKey: 'P'\n    },\n    KeyQ: {\n      key: 'q',\n      shiftKey: 'Q'\n    },\n    KeyR: {\n      key: 'r',\n      shiftKey: 'R'\n    },\n    KeyS: {\n      key: 's',\n      shiftKey: 'S'\n    },\n    KeyT: {\n      key: 't',\n      shiftKey: 'T'\n    },\n    KeyU: {\n      key: 'u',\n      shiftKey: 'U'\n    },\n    KeyV: {\n      key: 'v',\n      shiftKey: 'V'\n    },\n    KeyW: {\n      key: 'w',\n      shiftKey: 'W'\n    },\n    KeyX: {\n      key: 'x',\n      shiftKey: 'X'\n    },\n    KeyY: {\n      key: 'y',\n      shiftKey: 'Y'\n    },\n    KeyZ: {\n      key: 'z',\n      shiftKey: 'Z'\n    },\n    Numpad0: {\n      key: '0'\n    },\n    Numpad1: {\n      key: '1'\n    },\n    Numpad2: {\n      key: '2'\n    },\n    Numpad3: {\n      key: '3'\n    },\n    Numpad4: {\n      key: '4'\n    },\n    Numpad5: {\n      key: '5'\n    },\n    Numpad6: {\n      key: '6'\n    },\n    Numpad7: {\n      key: '7'\n    },\n    Numpad8: {\n      key: '8'\n    },\n    Numpad9: {\n      key: '9'\n    },\n    NumpadMultiply: {\n      key: '*'\n    },\n    NumpadAdd: {\n      key: '+'\n    },\n    NumpadComma: {\n      key: ','\n    },\n    NumpadSubtract: {\n      key: '-'\n    },\n    NumpadDecimal: {\n      key: '.'\n    },\n    NumpadDivide: {\n      key: '/'\n    },\n    Semicolon: {\n      key: ';',\n      shiftKey: ':'\n    },\n    Equal: {\n      key: '=',\n      shiftKey: '+'\n    },\n    Comma: {\n      key: ',',\n      shiftKey: '<'\n    },\n    Minus: {\n      key: '-',\n      shiftKey: '_'\n    },\n    Period: {\n      key: '.',\n      shiftKey: '>'\n    },\n    Slash: {\n      key: '/',\n      shiftKey: '?'\n    },\n    Backquote: {\n      key: '`',\n      shiftKey: '~'\n    },\n    BracketLeft: {\n      key: '[',\n      shiftKey: '{'\n    },\n    Backslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    },\n    BracketRight: {\n      key: ']',\n      shiftKey: '}'\n    },\n    Quote: {\n      key: '\\'',\n      shiftKey: '\"'\n    },\n    IntlBackslash: {\n      key: '\\\\',\n      shiftKey: '|'\n    }\n  };\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: {\n      key: 'Meta'\n    },\n    OSRight: {\n      key: 'Meta'\n    }\n  }); // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  }; //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && 'location' in new KeyboardEvent('');\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n\n    var keyInfo = function () {\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n\n      return null;\n    }(); // TODO: Track these down and move to general tables\n\n\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n        case 'U+0010':\n          keyInfo = {\n            code: 'Function'\n          };\n          break;\n\n        case 'U+001C':\n          keyInfo = {\n            code: 'ArrowLeft'\n          };\n          break;\n\n        case 'U+001D':\n          keyInfo = {\n            code: 'ArrowRight'\n          };\n          break;\n\n        case 'U+001E':\n          keyInfo = {\n            code: 'ArrowUp'\n          };\n          break;\n\n        case 'U+001F':\n          keyInfo = {\n            code: 'ArrowDown'\n          };\n          break;\n      }\n    }\n\n    if (!keyInfo) return null;\n\n    var key = function () {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return event.shiftKey && 'shiftKey' in entry ? entry.shiftKey : entry.key;\n    }();\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function () {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', {\n        get: function () {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo ? keyInfo.code : '';\n        }\n      }); // Fix for nonstandard `key` values (FF36-)\n\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', {\n          get: function () {\n            var key = desc.get.call(this);\n            return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n          }\n        });\n      }\n\n      define(KeyboardEvent.prototype, 'key', {\n        get: function () {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n        }\n      });\n      define(KeyboardEvent.prototype, 'location', {\n        get: function () {\n          var keyInfo = keyInfoForEvent(this);\n          return keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n        }\n      });\n      define(KeyboardEvent.prototype, 'locale', {\n        get: function () {\n          return '';\n        }\n      });\n    })();\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent)) global.KeyboardEvent.queryKeyCap = queryKeyCap; // Helper for IE8-\n\n  global.identifyKey = function (event) {\n    if ('code' in event) return;\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = keyInfo && 'key' in keyInfo ? keyInfo.key : 'Unidentified';\n    event.location = 'location' in event ? event.location : 'keyLocation' in event ? event.keyLocation : keyInfo && 'location' in keyInfo ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n})(window);","map":{"version":3,"sources":["E:/Universitat Paderborn/NEW/src/node_modules/aframe-extras/lib/keyboard.polyfill.js"],"names":["global","nativeKeyboardEvent","KeyboardEvent","TypeError","DOM_KEY_LOCATION_STANDARD","DOM_KEY_LOCATION_LEFT","DOM_KEY_LOCATION_RIGHT","DOM_KEY_LOCATION_NUMPAD","STANDARD","window","LEFT","RIGHT","NUMPAD","contains","s","ss","String","indexOf","os","navigator","platform","userAgent","browser","vendor","browser_os","mergeIf","baseTable","select","table","Object","keys","forEach","keyCode","remap","o","key","r","k","item","invert","keyCodeToInfoTable","code","keyCap","location","keyIdentifierTable","locationTable","codeToKeyTable","ShiftLeft","ShiftRight","ControlLeft","ControlRight","AltLeft","AltRight","OSLeft","OSRight","NumpadEnter","Space","Digit0","shiftKey","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","KeyA","KeyB","KeyC","KeyD","KeyE","KeyF","KeyG","KeyH","KeyI","KeyJ","KeyK","KeyL","KeyM","KeyN","KeyO","KeyP","KeyQ","KeyR","KeyS","KeyT","KeyU","KeyV","KeyW","KeyX","KeyY","KeyZ","Numpad0","Numpad1","Numpad2","Numpad3","Numpad4","Numpad5","Numpad6","Numpad7","Numpad8","Numpad9","NumpadMultiply","NumpadAdd","NumpadComma","NumpadSubtract","NumpadDecimal","NumpadDivide","Semicolon","Equal","Comma","Minus","Period","Slash","Backquote","BracketLeft","Backslash","BracketRight","Quote","IntlBackslash","keyFixTable","Esc","Nonconvert","Left","Up","Right","Down","Del","Menu","MediaNextTrack","MediaPreviousTrack","SelectMedia","HalfWidth","FullWidth","RomanCharacters","Crsel","Exsel","Zoom","codeTable","nativeLocation","_","keyInfoForEvent","event","which","keyInfo","keyLocation","keyIdentifier","entry","queryKeyCap","locale","hasOwnProperty","toLowerCase","Error","define","p","v","defineProperty","prototype","get","desc","getOwnPropertyDescriptor","call","identifyKey"],"mappings":"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","sourcesContent":["/**\n * Polyfill for the additional KeyboardEvent properties defined in the D3E and\n * D4E draft specifications, by @inexorabletash.\n *\n * See: https://github.com/inexorabletash/polyfill\n */\n(function(global) {\n  var nativeKeyboardEvent = ('KeyboardEvent' in global);\n  if (!nativeKeyboardEvent)\n    global.KeyboardEvent = function KeyboardEvent() { throw TypeError('Illegal constructor'); };\n\n  if (!('DOM_KEY_LOCATION_STANDARD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_STANDARD = 0x00; // Default or unknown location\n  if (!('DOM_KEY_LOCATION_LEFT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_LEFT          = 0x01; // e.g. Left Alt key\n  if (!('DOM_KEY_LOCATION_RIGHT' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_RIGHT         = 0x02; // e.g. Right Alt key\n  if (!('DOM_KEY_LOCATION_NUMPAD' in global.KeyboardEvent)) global.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD        = 0x03; // e.g. Numpad 0 or +\n\n  var STANDARD = window.KeyboardEvent.DOM_KEY_LOCATION_STANDARD,\n      LEFT = window.KeyboardEvent.DOM_KEY_LOCATION_LEFT,\n      RIGHT = window.KeyboardEvent.DOM_KEY_LOCATION_RIGHT,\n      NUMPAD = window.KeyboardEvent.DOM_KEY_LOCATION_NUMPAD;\n\n  //--------------------------------------------------------------------\n  //\n  // Utilities\n  //\n  //--------------------------------------------------------------------\n\n  function contains(s, ss) { return String(s).indexOf(ss) !== -1; }\n\n  var os = (function() {\n    if (contains(navigator.platform, 'Win')) { return 'win'; }\n    if (contains(navigator.platform, 'Mac')) { return 'mac'; }\n    if (contains(navigator.platform, 'CrOS')) { return 'cros'; }\n    if (contains(navigator.platform, 'Linux')) { return 'linux'; }\n    if (contains(navigator.userAgent, 'iPad') || contains(navigator.platform, 'iPod') || contains(navigator.platform, 'iPhone')) { return 'ios'; }\n    return '';\n  } ());\n\n  var browser = (function() {\n    if (contains(navigator.userAgent, 'Chrome/')) { return 'chrome'; }\n    if (contains(navigator.vendor, 'Apple')) { return 'safari'; }\n    if (contains(navigator.userAgent, 'MSIE')) { return 'ie'; }\n    if (contains(navigator.userAgent, 'Gecko/')) { return 'moz'; }\n    if (contains(navigator.userAgent, 'Opera/')) { return 'opera'; }\n    return '';\n  } ());\n\n  var browser_os = browser + '-' + os;\n\n  function mergeIf(baseTable, select, table) {\n    if (browser_os === select || browser === select || os === select) {\n      Object.keys(table).forEach(function(keyCode) {\n        baseTable[keyCode] = table[keyCode];\n      });\n    }\n  }\n\n  function remap(o, key) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      var item = o[k];\n      if (key in item) {\n        r[item[key]] = item;\n      }\n    });\n    return r;\n  }\n\n  function invert(o) {\n    var r = {};\n    Object.keys(o).forEach(function(k) {\n      r[o[k]] = k;\n    });\n    return r;\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Generic Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // \"keyInfo\" is a dictionary:\n  //   code: string - name from DOM Level 3 KeyboardEvent code Values\n  //     https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-code.html\n  //   location (optional): number - one of the DOM_KEY_LOCATION values\n  //   keyCap (optional): string - keyboard label in en-US locale\n  // USB code Usage ID from page 0x07 unless otherwise noted (Informative)\n\n  // Map of keyCode to keyInfo\n  var keyCodeToInfoTable = {\n    // 0x01 - VK_LBUTTON\n    // 0x02 - VK_RBUTTON\n    0x03: { code: 'Cancel' }, // [USB: 0x9b] char \\x0018 ??? (Not in D3E)\n    // 0x04 - VK_MBUTTON\n    // 0x05 - VK_XBUTTON1\n    // 0x06 - VK_XBUTTON2\n    0x06: { code: 'Help' }, // [USB: 0x75] ???\n    // 0x07 - undefined\n    0x08: { code: 'Backspace' }, // [USB: 0x2a] Labelled Delete on Macintosh keyboards.\n    0x09: { code: 'Tab' }, // [USB: 0x2b]\n    // 0x0A-0x0B - reserved\n    0X0C: { code: 'Clear' }, // [USB: 0x9c] NumPad Center (Not in D3E)\n    0X0D: { code: 'Enter' }, // [USB: 0x28]\n    // 0x0E-0x0F - undefined\n\n    0x10: { code: 'Shift' },\n    0x11: { code: 'Control' },\n    0x12: { code: 'Alt' },\n    0x13: { code: 'Pause' }, // [USB: 0x48]\n    0x14: { code: 'CapsLock' }, // [USB: 0x39]\n    0x15: { code: 'KanaMode' }, // [USB: 0x88] - \"HangulMode\" for Korean layout\n    0x16: { code: 'HangulMode' }, // [USB: 0x90] 0x15 as well in MSDN VK table ???\n    0x17: { code: 'JunjaMode' }, // (Not in D3E)\n    0x18: { code: 'FinalMode' }, // (Not in D3E)\n    0x19: { code: 'KanjiMode' }, // [USB: 0x91] - \"HanjaMode\" for Korean layout\n    // 0x1A - undefined\n    0x1B: { code: 'Escape' }, // [USB: 0x29]\n    0x1C: { code: 'Convert' }, // [USB: 0x8a]\n    0x1D: { code: 'NonConvert' }, // [USB: 0x8b]\n    0x1E: { code: 'Accept' }, // (Not in D3E)\n    0x1F: { code: 'ModeChange' }, // (Not in D3E)\n\n    0x20: { code: 'Space' }, // [USB: 0x2c]\n    0x21: { code: 'PageUp' }, // [USB: 0x4b]\n    0x22: { code: 'PageDown' }, // [USB: 0x4e]\n    0x23: { code: 'End' }, // [USB: 0x4d]\n    0x24: { code: 'Home' }, // [USB: 0x4a]\n    0x25: { code: 'ArrowLeft' }, // [USB: 0x50]\n    0x26: { code: 'ArrowUp' }, // [USB: 0x52]\n    0x27: { code: 'ArrowRight' }, // [USB: 0x4f]\n    0x28: { code: 'ArrowDown' }, // [USB: 0x51]\n    0x29: { code: 'Select' }, // (Not in D3E)\n    0x2A: { code: 'Print' }, // (Not in D3E)\n    0x2B: { code: 'Execute' }, // [USB: 0x74] (Not in D3E)\n    0x2C: { code: 'PrintScreen' }, // [USB: 0x46]\n    0x2D: { code: 'Insert' }, // [USB: 0x49]\n    0x2E: { code: 'Delete' }, // [USB: 0x4c]\n    0x2F: { code: 'Help' }, // [USB: 0x75] ???\n\n    0x30: { code: 'Digit0', keyCap: '0' }, // [USB: 0x27] 0)\n    0x31: { code: 'Digit1', keyCap: '1' }, // [USB: 0x1e] 1!\n    0x32: { code: 'Digit2', keyCap: '2' }, // [USB: 0x1f] 2@\n    0x33: { code: 'Digit3', keyCap: '3' }, // [USB: 0x20] 3#\n    0x34: { code: 'Digit4', keyCap: '4' }, // [USB: 0x21] 4$\n    0x35: { code: 'Digit5', keyCap: '5' }, // [USB: 0x22] 5%\n    0x36: { code: 'Digit6', keyCap: '6' }, // [USB: 0x23] 6^\n    0x37: { code: 'Digit7', keyCap: '7' }, // [USB: 0x24] 7&\n    0x38: { code: 'Digit8', keyCap: '8' }, // [USB: 0x25] 8*\n    0x39: { code: 'Digit9', keyCap: '9' }, // [USB: 0x26] 9(\n    // 0x3A-0x40 - undefined\n\n    0x41: { code: 'KeyA', keyCap: 'a' }, // [USB: 0x04]\n    0x42: { code: 'KeyB', keyCap: 'b' }, // [USB: 0x05]\n    0x43: { code: 'KeyC', keyCap: 'c' }, // [USB: 0x06]\n    0x44: { code: 'KeyD', keyCap: 'd' }, // [USB: 0x07]\n    0x45: { code: 'KeyE', keyCap: 'e' }, // [USB: 0x08]\n    0x46: { code: 'KeyF', keyCap: 'f' }, // [USB: 0x09]\n    0x47: { code: 'KeyG', keyCap: 'g' }, // [USB: 0x0a]\n    0x48: { code: 'KeyH', keyCap: 'h' }, // [USB: 0x0b]\n    0x49: { code: 'KeyI', keyCap: 'i' }, // [USB: 0x0c]\n    0x4A: { code: 'KeyJ', keyCap: 'j' }, // [USB: 0x0d]\n    0x4B: { code: 'KeyK', keyCap: 'k' }, // [USB: 0x0e]\n    0x4C: { code: 'KeyL', keyCap: 'l' }, // [USB: 0x0f]\n    0x4D: { code: 'KeyM', keyCap: 'm' }, // [USB: 0x10]\n    0x4E: { code: 'KeyN', keyCap: 'n' }, // [USB: 0x11]\n    0x4F: { code: 'KeyO', keyCap: 'o' }, // [USB: 0x12]\n\n    0x50: { code: 'KeyP', keyCap: 'p' }, // [USB: 0x13]\n    0x51: { code: 'KeyQ', keyCap: 'q' }, // [USB: 0x14]\n    0x52: { code: 'KeyR', keyCap: 'r' }, // [USB: 0x15]\n    0x53: { code: 'KeyS', keyCap: 's' }, // [USB: 0x16]\n    0x54: { code: 'KeyT', keyCap: 't' }, // [USB: 0x17]\n    0x55: { code: 'KeyU', keyCap: 'u' }, // [USB: 0x18]\n    0x56: { code: 'KeyV', keyCap: 'v' }, // [USB: 0x19]\n    0x57: { code: 'KeyW', keyCap: 'w' }, // [USB: 0x1a]\n    0x58: { code: 'KeyX', keyCap: 'x' }, // [USB: 0x1b]\n    0x59: { code: 'KeyY', keyCap: 'y' }, // [USB: 0x1c]\n    0x5A: { code: 'KeyZ', keyCap: 'z' }, // [USB: 0x1d]\n    0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n    0x5C: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n    0x5D: { code: 'ContextMenu' }, // [USB: 0x65] Context Menu\n    // 0x5E - reserved\n    0x5F: { code: 'Standby' }, // [USB: 0x82] Sleep\n\n    0x60: { code: 'Numpad0', keyCap: '0', location: NUMPAD }, // [USB: 0x62]\n    0x61: { code: 'Numpad1', keyCap: '1', location: NUMPAD }, // [USB: 0x59]\n    0x62: { code: 'Numpad2', keyCap: '2', location: NUMPAD }, // [USB: 0x5a]\n    0x63: { code: 'Numpad3', keyCap: '3', location: NUMPAD }, // [USB: 0x5b]\n    0x64: { code: 'Numpad4', keyCap: '4', location: NUMPAD }, // [USB: 0x5c]\n    0x65: { code: 'Numpad5', keyCap: '5', location: NUMPAD }, // [USB: 0x5d]\n    0x66: { code: 'Numpad6', keyCap: '6', location: NUMPAD }, // [USB: 0x5e]\n    0x67: { code: 'Numpad7', keyCap: '7', location: NUMPAD }, // [USB: 0x5f]\n    0x68: { code: 'Numpad8', keyCap: '8', location: NUMPAD }, // [USB: 0x60]\n    0x69: { code: 'Numpad9', keyCap: '9', location: NUMPAD }, // [USB: 0x61]\n    0x6A: { code: 'NumpadMultiply', keyCap: '*', location: NUMPAD }, // [USB: 0x55]\n    0x6B: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n    0x6C: { code: 'NumpadComma', keyCap: ',', location: NUMPAD }, // [USB: 0x85]\n    0x6D: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD }, // [USB: 0x56]\n    0x6E: { code: 'NumpadDecimal', keyCap: '.', location: NUMPAD }, // [USB: 0x63]\n    0x6F: { code: 'NumpadDivide', keyCap: '/', location: NUMPAD }, // [USB: 0x54]\n\n    0x70: { code: 'F1' }, // [USB: 0x3a]\n    0x71: { code: 'F2' }, // [USB: 0x3b]\n    0x72: { code: 'F3' }, // [USB: 0x3c]\n    0x73: { code: 'F4' }, // [USB: 0x3d]\n    0x74: { code: 'F5' }, // [USB: 0x3e]\n    0x75: { code: 'F6' }, // [USB: 0x3f]\n    0x76: { code: 'F7' }, // [USB: 0x40]\n    0x77: { code: 'F8' }, // [USB: 0x41]\n    0x78: { code: 'F9' }, // [USB: 0x42]\n    0x79: { code: 'F10' }, // [USB: 0x43]\n    0x7A: { code: 'F11' }, // [USB: 0x44]\n    0x7B: { code: 'F12' }, // [USB: 0x45]\n    0x7C: { code: 'F13' }, // [USB: 0x68]\n    0x7D: { code: 'F14' }, // [USB: 0x69]\n    0x7E: { code: 'F15' }, // [USB: 0x6a]\n    0x7F: { code: 'F16' }, // [USB: 0x6b]\n\n    0x80: { code: 'F17' }, // [USB: 0x6c]\n    0x81: { code: 'F18' }, // [USB: 0x6d]\n    0x82: { code: 'F19' }, // [USB: 0x6e]\n    0x83: { code: 'F20' }, // [USB: 0x6f]\n    0x84: { code: 'F21' }, // [USB: 0x70]\n    0x85: { code: 'F22' }, // [USB: 0x71]\n    0x86: { code: 'F23' }, // [USB: 0x72]\n    0x87: { code: 'F24' }, // [USB: 0x73]\n    // 0x88-0x8F - unassigned\n\n    0x90: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0x91: { code: 'ScrollLock' }, // [USB: 0x47]\n    // 0x92-0x96 - OEM specific\n    // 0x97-0x9F - unassigned\n\n    // NOTE: 0xA0-0xA5 usually mapped to 0x10-0x12 in browsers\n    0xA0: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0xA1: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0xA2: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0xA3: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0xA4: { code: 'AltLeft', location: LEFT }, // [USB: 0xe2]\n    0xA5: { code: 'AltRight', location: RIGHT }, // [USB: 0xe6]\n\n    0xA6: { code: 'BrowserBack' }, // [USB: 0x0c/0x0224]\n    0xA7: { code: 'BrowserForward' }, // [USB: 0x0c/0x0225]\n    0xA8: { code: 'BrowserRefresh' }, // [USB: 0x0c/0x0227]\n    0xA9: { code: 'BrowserStop' }, // [USB: 0x0c/0x0226]\n    0xAA: { code: 'BrowserSearch' }, // [USB: 0x0c/0x0221]\n    0xAB: { code: 'BrowserFavorites' }, // [USB: 0x0c/0x0228]\n    0xAC: { code: 'BrowserHome' }, // [USB: 0x0c/0x0222]\n    0xAD: { code: 'VolumeMute' }, // [USB: 0x7f]\n    0xAE: { code: 'VolumeDown' }, // [USB: 0x81]\n    0xAF: { code: 'VolumeUp' }, // [USB: 0x80]\n\n    0xB0: { code: 'MediaTrackNext' }, // [USB: 0x0c/0x00b5]\n    0xB1: { code: 'MediaTrackPrevious' }, // [USB: 0x0c/0x00b6]\n    0xB2: { code: 'MediaStop' }, // [USB: 0x0c/0x00b7]\n    0xB3: { code: 'MediaPlayPause' }, // [USB: 0x0c/0x00cd]\n    0xB4: { code: 'LaunchMail' }, // [USB: 0x0c/0x018a]\n    0xB5: { code: 'MediaSelect' },\n    0xB6: { code: 'LaunchApp1' },\n    0xB7: { code: 'LaunchApp2' },\n    // 0xB8-0xB9 - reserved\n    0xBA: { code: 'Semicolon',  keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n    0xBB: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n    0xBC: { code: 'Comma', keyCap: ',' }, // [USB: 0x36] ,<\n    0xBD: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n    0xBE: { code: 'Period', keyCap: '.' }, // [USB: 0x37] .>\n    0xBF: { code: 'Slash', keyCap: '/' }, // [USB: 0x38] /? (US Standard 101)\n\n    0xC0: { code: 'Backquote', keyCap: '`' }, // [USB: 0x35] `~ (US Standard 101)\n    // 0xC1-0xCF - reserved\n\n    // 0xD0-0xD7 - reserved\n    // 0xD8-0xDA - unassigned\n    0xDB: { code: 'BracketLeft', keyCap: '[' }, // [USB: 0x2f] [{ (US Standard 101)\n    0xDC: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n    0xDD: { code: 'BracketRight', keyCap: ']' }, // [USB: 0x30] ]} (US Standard 101)\n    0xDE: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n    // 0xDF - miscellaneous/varies\n\n    // 0xE0 - reserved\n    // 0xE1 - OEM specific\n    0xE2: { code: 'IntlBackslash',  keyCap: '\\\\' }, // [USB: 0x64] \\| (UK Standard 102)\n    // 0xE3-0xE4 - OEM specific\n    0xE5: { code: 'Process' }, // (Not in D3E)\n    // 0xE6 - OEM specific\n    // 0xE7 - VK_PACKET\n    // 0xE8 - unassigned\n    // 0xE9-0xEF - OEM specific\n\n    // 0xF0-0xF5 - OEM specific\n    0xF6: { code: 'Attn' }, // [USB: 0x9a] (Not in D3E)\n    0xF7: { code: 'CrSel' }, // [USB: 0xa3] (Not in D3E)\n    0xF8: { code: 'ExSel' }, // [USB: 0xa4] (Not in D3E)\n    0xF9: { code: 'EraseEof' }, // (Not in D3E)\n    0xFA: { code: 'Play' }, // (Not in D3E)\n    0xFB: { code: 'ZoomToggle' }, // (Not in D3E)\n    // 0xFC - VK_NONAME - reserved\n    // 0xFD - VK_PA1\n    0xFE: { code: 'Clear' } // [USB: 0x9c] (Not in D3E)\n  };\n\n  // No legacy keyCode, but listed in D3E:\n\n  // code: usb\n  // 'IntlHash': 0x070032,\n  // 'IntlRo': 0x070087,\n  // 'IntlYen': 0x070089,\n  // 'NumpadBackspace': 0x0700bb,\n  // 'NumpadClear': 0x0700d8,\n  // 'NumpadClearEntry': 0x0700d9,\n  // 'NumpadMemoryAdd': 0x0700d3,\n  // 'NumpadMemoryClear': 0x0700d2,\n  // 'NumpadMemoryRecall': 0x0700d1,\n  // 'NumpadMemoryStore': 0x0700d0,\n  // 'NumpadMemorySubtract': 0x0700d4,\n  // 'NumpadParenLeft': 0x0700b6,\n  // 'NumpadParenRight': 0x0700b7,\n\n  //--------------------------------------------------------------------\n  //\n  // Browser/OS Specific Mappings\n  //\n  //--------------------------------------------------------------------\n\n  mergeIf(keyCodeToInfoTable,\n          'moz', {\n            0x3B: { code: 'Semicolon', keyCap: ';' }, // [USB: 0x33] ;: (US Standard 101)\n            0x3D: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6B: { code: 'Equal', keyCap: '=' }, // [USB: 0x2e] =+\n            0x6D: { code: 'Minus', keyCap: '-' }, // [USB: 0x2d] -_\n            0xBB: { code: 'NumpadAdd', keyCap: '+', location: NUMPAD }, // [USB: 0x57]\n            0xBD: { code: 'NumpadSubtract', keyCap: '-', location: NUMPAD } // [USB: 0x56]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-mac', {\n            0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'moz-win', {\n            0xAD: { code: 'Minus', keyCap: '-' } // [USB: 0x2d] -_\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'chrome-mac', {\n            0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n          });\n\n  // Windows via Bootcamp (!)\n  if (0) {\n    mergeIf(keyCodeToInfoTable,\n            'chrome-win', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n\n    mergeIf(keyCodeToInfoTable,\n            'ie', {\n              0xC0: { code: 'Quote', keyCap: '\\'' }, // [USB: 0x34] '\" (US Standard 101)\n              0xDE: { code: 'Backslash',  keyCap: '\\\\' }, // [USB: 0x31] \\| (US Standard 101)\n              0xDF: { code: 'Backquote', keyCap: '`' } // [USB: 0x35] `~ (US Standard 101)\n            });\n  }\n\n  mergeIf(keyCodeToInfoTable,\n          'safari', {\n            0x03: { code: 'Enter' }, // [USB: 0x28] old Safari\n            0x19: { code: 'Tab' } // [USB: 0x2b] old Safari for Shift+Tab\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'ios', {\n            0x0A: { code: 'Enter', location: STANDARD } // [USB: 0x28]\n          });\n\n  mergeIf(keyCodeToInfoTable,\n          'safari-mac', {\n            0x5B: { code: 'OSLeft', location: LEFT }, // [USB: 0xe3]\n            0x5D: { code: 'OSRight', location: RIGHT }, // [USB: 0xe7]\n            0xE5: { code: 'KeyQ', keyCap: 'Q' } // [USB: 0x14] On alternate presses, Ctrl+Q sends this\n          });\n\n  //--------------------------------------------------------------------\n  //\n  // Identifier Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send keyIdentifier which can be\n  // used to disambiguate keys.\n\n  // keyIdentifierTable[keyIdentifier] -> keyInfo\n\n  var keyIdentifierTable = {};\n  if ('cros' === os) {\n    keyIdentifierTable['U+00A0'] = { code: 'ShiftLeft', location: LEFT };\n    keyIdentifierTable['U+00A1'] = { code: 'ShiftRight', location: RIGHT };\n    keyIdentifierTable['U+00A2'] = { code: 'ControlLeft', location: LEFT };\n    keyIdentifierTable['U+00A3'] = { code: 'ControlRight', location: RIGHT };\n    keyIdentifierTable['U+00A4'] = { code: 'AltLeft', location: LEFT };\n    keyIdentifierTable['U+00A5'] = { code: 'AltRight', location: RIGHT };\n  }\n  if ('chrome-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('safari-mac' === browser_os) {\n    keyIdentifierTable['U+0010'] = { code: 'ContextMenu' };\n  }\n  if ('ios' === os) {\n    // These only generate keyup events\n    keyIdentifierTable['U+0010'] = { code: 'Function' };\n\n    keyIdentifierTable['U+001C'] = { code: 'ArrowLeft' };\n    keyIdentifierTable['U+001D'] = { code: 'ArrowRight' };\n    keyIdentifierTable['U+001E'] = { code: 'ArrowUp' };\n    keyIdentifierTable['U+001F'] = { code: 'ArrowDown' };\n\n    keyIdentifierTable['U+0001'] = { code: 'Home' }; // [USB: 0x4a] Fn + ArrowLeft\n    keyIdentifierTable['U+0004'] = { code: 'End' }; // [USB: 0x4d] Fn + ArrowRight\n    keyIdentifierTable['U+000B'] = { code: 'PageUp' }; // [USB: 0x4b] Fn + ArrowUp\n    keyIdentifierTable['U+000C'] = { code: 'PageDown' }; // [USB: 0x4e] Fn + ArrowDown\n  }\n\n  //--------------------------------------------------------------------\n  //\n  // Location Mappings\n  //\n  //--------------------------------------------------------------------\n\n  // Cases where newer-ish browsers send location/keyLocation which\n  // can be used to disambiguate keys.\n\n  // locationTable[location][keyCode] -> keyInfo\n  var locationTable = [];\n  locationTable[LEFT] = {\n    0x10: { code: 'ShiftLeft', location: LEFT }, // [USB: 0xe1]\n    0x11: { code: 'ControlLeft', location: LEFT }, // [USB: 0xe0]\n    0x12: { code: 'AltLeft', location: LEFT } // [USB: 0xe2]\n  };\n  locationTable[RIGHT] = {\n    0x10: { code: 'ShiftRight', location: RIGHT }, // [USB: 0xe5]\n    0x11: { code: 'ControlRight', location: RIGHT }, // [USB: 0xe4]\n    0x12: { code: 'AltRight', location: RIGHT } // [USB: 0xe6]\n  };\n  locationTable[NUMPAD] = {\n    0x0D: { code: 'NumpadEnter', location: NUMPAD } // [USB: 0x58]\n  };\n\n  mergeIf(locationTable[NUMPAD], 'moz', {\n    0x6D: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0x6B: { code: 'NumpadAdd', location: NUMPAD } // [USB: 0x57]\n  });\n  mergeIf(locationTable[LEFT], 'moz-mac', {\n    0xE0: { code: 'OSLeft', location: LEFT } // [USB: 0xe3]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-mac', {\n    0xE0: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n  mergeIf(locationTable[RIGHT], 'moz-win', {\n    0x5B: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n\n  mergeIf(locationTable[RIGHT], 'mac', {\n    0x5D: { code: 'OSRight', location: RIGHT } // [USB: 0xe7]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'chrome-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD } // [USB: 0x53]\n  });\n\n  mergeIf(locationTable[NUMPAD], 'safari-mac', {\n    0x0C: { code: 'NumLock', location: NUMPAD }, // [USB: 0x53]\n    0xBB: { code: 'NumpadAdd', location: NUMPAD }, // [USB: 0x57]\n    0xBD: { code: 'NumpadSubtract', location: NUMPAD }, // [USB: 0x56]\n    0xBE: { code: 'NumpadDecimal', location: NUMPAD }, // [USB: 0x63]\n    0xBF: { code: 'NumpadDivide', location: NUMPAD } // [USB: 0x54]\n  });\n\n\n  //--------------------------------------------------------------------\n  //\n  // Key Values\n  //\n  //--------------------------------------------------------------------\n\n  // Mapping from `code` values to `key` values. Values defined at:\n  // https://dvcs.w3.org/hg/dom3events/raw-file/tip/html/DOM3Events-key.html\n  // Entries are only provided when `key` differs from `code`. If\n  // printable, `shiftKey` has the shifted printable character. This\n  // assumes US Standard 101 layout\n\n  var codeToKeyTable = {\n    // Modifier Keys\n    ShiftLeft: { key: 'Shift' },\n    ShiftRight: { key: 'Shift' },\n    ControlLeft: { key: 'Control' },\n    ControlRight: { key: 'Control' },\n    AltLeft: { key: 'Alt' },\n    AltRight: { key: 'Alt' },\n    OSLeft: { key: 'OS' },\n    OSRight: { key: 'OS' },\n\n    // Whitespace Keys\n    NumpadEnter: { key: 'Enter' },\n    Space: { key: ' ' },\n\n    // Printable Keys\n    Digit0: { key: '0', shiftKey: ')' },\n    Digit1: { key: '1', shiftKey: '!' },\n    Digit2: { key: '2', shiftKey: '@' },\n    Digit3: { key: '3', shiftKey: '#' },\n    Digit4: { key: '4', shiftKey: '$' },\n    Digit5: { key: '5', shiftKey: '%' },\n    Digit6: { key: '6', shiftKey: '^' },\n    Digit7: { key: '7', shiftKey: '&' },\n    Digit8: { key: '8', shiftKey: '*' },\n    Digit9: { key: '9', shiftKey: '(' },\n    KeyA: { key: 'a', shiftKey: 'A' },\n    KeyB: { key: 'b', shiftKey: 'B' },\n    KeyC: { key: 'c', shiftKey: 'C' },\n    KeyD: { key: 'd', shiftKey: 'D' },\n    KeyE: { key: 'e', shiftKey: 'E' },\n    KeyF: { key: 'f', shiftKey: 'F' },\n    KeyG: { key: 'g', shiftKey: 'G' },\n    KeyH: { key: 'h', shiftKey: 'H' },\n    KeyI: { key: 'i', shiftKey: 'I' },\n    KeyJ: { key: 'j', shiftKey: 'J' },\n    KeyK: { key: 'k', shiftKey: 'K' },\n    KeyL: { key: 'l', shiftKey: 'L' },\n    KeyM: { key: 'm', shiftKey: 'M' },\n    KeyN: { key: 'n', shiftKey: 'N' },\n    KeyO: { key: 'o', shiftKey: 'O' },\n    KeyP: { key: 'p', shiftKey: 'P' },\n    KeyQ: { key: 'q', shiftKey: 'Q' },\n    KeyR: { key: 'r', shiftKey: 'R' },\n    KeyS: { key: 's', shiftKey: 'S' },\n    KeyT: { key: 't', shiftKey: 'T' },\n    KeyU: { key: 'u', shiftKey: 'U' },\n    KeyV: { key: 'v', shiftKey: 'V' },\n    KeyW: { key: 'w', shiftKey: 'W' },\n    KeyX: { key: 'x', shiftKey: 'X' },\n    KeyY: { key: 'y', shiftKey: 'Y' },\n    KeyZ: { key: 'z', shiftKey: 'Z' },\n    Numpad0: { key: '0' },\n    Numpad1: { key: '1' },\n    Numpad2: { key: '2' },\n    Numpad3: { key: '3' },\n    Numpad4: { key: '4' },\n    Numpad5: { key: '5' },\n    Numpad6: { key: '6' },\n    Numpad7: { key: '7' },\n    Numpad8: { key: '8' },\n    Numpad9: { key: '9' },\n    NumpadMultiply: { key: '*' },\n    NumpadAdd: { key: '+' },\n    NumpadComma: { key: ',' },\n    NumpadSubtract: { key: '-' },\n    NumpadDecimal: { key: '.' },\n    NumpadDivide: { key: '/' },\n    Semicolon: { key: ';', shiftKey: ':' },\n    Equal: { key: '=', shiftKey: '+' },\n    Comma: { key: ',', shiftKey: '<' },\n    Minus: { key: '-', shiftKey: '_' },\n    Period: { key: '.', shiftKey: '>' },\n    Slash: { key: '/', shiftKey: '?' },\n    Backquote: { key: '`', shiftKey: '~' },\n    BracketLeft: { key: '[', shiftKey: '{' },\n    Backslash: { key: '\\\\', shiftKey: '|' },\n    BracketRight: { key: ']', shiftKey: '}' },\n    Quote: { key: '\\'', shiftKey: '\"' },\n    IntlBackslash: { key: '\\\\', shiftKey: '|' }\n  };\n\n  mergeIf(codeToKeyTable, 'mac', {\n    OSLeft: { key: 'Meta' },\n    OSRight: { key: 'Meta' }\n  });\n\n  // Corrections for 'key' names in older browsers (e.g. FF36-)\n  // https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent.key#Key_values\n  var keyFixTable = {\n    Esc: 'Escape',\n    Nonconvert: 'NonConvert',\n    Left: 'ArrowLeft',\n    Up: 'ArrowUp',\n    Right: 'ArrowRight',\n    Down: 'ArrowDown',\n    Del: 'Delete',\n    Menu: 'ContextMenu',\n    MediaNextTrack: 'MediaTrackNext',\n    MediaPreviousTrack: 'MediaTrackPrevious',\n    SelectMedia: 'MediaSelect',\n    HalfWidth: 'Hankaku',\n    FullWidth: 'Zenkaku',\n    RomanCharacters: 'Romaji',\n    Crsel: 'CrSel',\n    Exsel: 'ExSel',\n    Zoom: 'ZoomToggle'\n  };\n\n  //--------------------------------------------------------------------\n  //\n  // Exported Functions\n  //\n  //--------------------------------------------------------------------\n\n\n  var codeTable = remap(keyCodeToInfoTable, 'code');\n\n  try {\n    var nativeLocation = nativeKeyboardEvent && ('location' in new KeyboardEvent(''));\n  } catch (_) {}\n\n  function keyInfoForEvent(event) {\n    var keyCode = 'keyCode' in event ? event.keyCode : 'which' in event ? event.which : 0;\n\n    var keyInfo = (function(){\n      if (nativeLocation || 'keyLocation' in event) {\n        var location = nativeLocation ? event.location : event.keyLocation;\n        if (location && keyCode in locationTable[location]) {\n          return locationTable[location][keyCode];\n        }\n      }\n      if ('keyIdentifier' in event && event.keyIdentifier in keyIdentifierTable) {\n        return keyIdentifierTable[event.keyIdentifier];\n      }\n      if (keyCode in keyCodeToInfoTable) {\n        return keyCodeToInfoTable[keyCode];\n      }\n      return null;\n    }());\n\n    // TODO: Track these down and move to general tables\n    if (0) {\n      // TODO: Map these for newerish browsers?\n      // TODO: iOS only?\n      // TODO: Override with more common keyIdentifier name?\n      switch (event.keyIdentifier) {\n      case 'U+0010': keyInfo = { code: 'Function' }; break;\n      case 'U+001C': keyInfo = { code: 'ArrowLeft' }; break;\n      case 'U+001D': keyInfo = { code: 'ArrowRight' }; break;\n      case 'U+001E': keyInfo = { code: 'ArrowUp' }; break;\n      case 'U+001F': keyInfo = { code: 'ArrowDown' }; break;\n      }\n    }\n\n    if (!keyInfo)\n      return null;\n\n    var key = (function() {\n      var entry = codeToKeyTable[keyInfo.code];\n      if (!entry) return keyInfo.code;\n      return (event.shiftKey && 'shiftKey' in entry) ? entry.shiftKey : entry.key;\n    }());\n\n    return {\n      code: keyInfo.code,\n      key: key,\n      location: keyInfo.location,\n      keyCap: keyInfo.keyCap\n    };\n  }\n\n  function queryKeyCap(code, locale) {\n    code = String(code);\n    if (!codeTable.hasOwnProperty(code)) return 'Undefined';\n    if (locale && String(locale).toLowerCase() !== 'en-us') throw Error('Unsupported locale');\n    var keyInfo = codeTable[code];\n    return keyInfo.keyCap || keyInfo.code || 'Undefined';\n  }\n\n  if ('KeyboardEvent' in global && 'defineProperty' in Object) {\n    (function() {\n      function define(o, p, v) {\n        if (p in o) return;\n        Object.defineProperty(o, p, v);\n      }\n\n      define(KeyboardEvent.prototype, 'code', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return keyInfo ? keyInfo.code : '';\n      }});\n\n      // Fix for nonstandard `key` values (FF36-)\n      if ('key' in KeyboardEvent.prototype) {\n        var desc = Object.getOwnPropertyDescriptor(KeyboardEvent.prototype, 'key');\n        Object.defineProperty(KeyboardEvent.prototype, 'key', { get: function() {\n          var key = desc.get.call(this);\n          return keyFixTable.hasOwnProperty(key) ? keyFixTable[key] : key;\n        }});\n      }\n\n      define(KeyboardEvent.prototype, 'key', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n      }});\n\n      define(KeyboardEvent.prototype, 'location', { get: function() {\n        var keyInfo = keyInfoForEvent(this);\n        return (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n      }});\n\n      define(KeyboardEvent.prototype, 'locale', { get: function() {\n        return '';\n      }});\n    }());\n  }\n\n  if (!('queryKeyCap' in global.KeyboardEvent))\n    global.KeyboardEvent.queryKeyCap = queryKeyCap;\n\n  // Helper for IE8-\n  global.identifyKey = function(event) {\n    if ('code' in event)\n      return;\n\n    var keyInfo = keyInfoForEvent(event);\n    event.code = keyInfo ? keyInfo.code : '';\n    event.key = (keyInfo && 'key' in keyInfo) ? keyInfo.key : 'Unidentified';\n    event.location = ('location' in event) ? event.location :\n      ('keyLocation' in event) ? event.keyLocation :\n      (keyInfo && 'location' in keyInfo) ? keyInfo.location : STANDARD;\n    event.locale = '';\n  };\n\n} (window));\n"]},"metadata":{},"sourceType":"script"}